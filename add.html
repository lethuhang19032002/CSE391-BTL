<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add - Vatvostudio.vn</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" />

</head>

<body>

    <div class="formbg-outer">
        <div class="formbg">
            <h1 class="pt-2" style="margin-left: 120px">Upload File</h1>
            <form style="margin-left: 20px" method="post" action="/upload">

                <div class="mb-4" style="width: 400px">
                    <label for="formFile" class="form-label">Title</label>
                    <input name="titleImg" class="form-control" type="text">
                </div>

                <div class="mb-4" style="width: 400px">
                    <label for="formFile" class="form-label">Deltais</label>
                    <input name="deltaisImg" class="form-control" type="text">
                </div>

                <div class="mb-4" style="width: 400px">
                    <label for="formFile" class="form-label">Chosse Image</label>
                    <input onchange="previewFile()" name="myImg" class="form-control" type="file" id="image">
                    <img class="mt-3" id="img_preview" src="" height="200" alt="Image preview..."> <br>
                    <input type="hidden" name="anh_dai_dien" id="anh_dai_dien">

                </div>


                <input style="margin-left: 160px" class="btn btn-outline-success mb-3" type="submit" name="submit"
                    value="Add">

                <!--                <button style="margin-left: 150px" type="button" class="btn btn-outline-success mb-3">Submit</button>-->
            </form>

        </div>
    </div>

    <script>
        function previewFile() {
            const preview = document.querySelector('#img_preview');
            const file = document.querySelector('#image').files[0];
            const anh_dai_dien = document.querySelector('#anh_dai_dien');
            const reader = new FileReader();

            reader.addEventListener("load", function () {
                // chuyển ảnh thành chuỗi base64
                preview.src = reader.result;
                anh_dai_dien.value = reader.result;// cái này để post lên server
            }, false);

            if (file) {
                reader.readAsDataURL(file);
            }
        }
    </script>

</body>

</html>